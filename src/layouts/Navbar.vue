<template>
  <v-app-bar
    app
    class="navbar"
    color="#4EC690"
    elevation="0"
    clipped-left
    width="100%"
    fixed
  >
    <div class="navbar-container">
      <div class="logo">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="31"
          height="29"
          fill="none"
        >
          <path
            d="M21.1344.02422c-1.8215-.27366-3.7511 1.80291-4.3068 4.66825-.5558 2.84925.4476 5.39263 2.2692 5.68243 1.8061.2897 3.7511-1.78685 4.3223-4.65219.5712-2.84925-.4631-5.39264-2.2847-5.6985Zm-11.0373 0C8.26013.33007 7.2413 2.87346 7.78159 5.7227c.5866 2.86534 2.51621 4.94189 4.33771 4.65219 1.837-.2898 2.8404-2.83318 2.2692-5.68243-.5557-2.86534-2.4853-4.94191-4.2914-4.66825Zm19.296 7.40482c-1.7598-.78878-4.1525.6439-5.4028 3.13896-1.1732 2.5434-.7719 5.2156.9725 6.0044 1.7443.7888 4.1216-.6278 5.3411-3.1551s.7873-5.21558-.9108-5.98826Zm-27.78625 0C-.0912 8.20172-.52343 10.89.69608 13.4173c1.21951 2.5273 3.59678 3.9439 5.34115 3.1551 1.74436-.7888 2.14571-3.461.97251-6.0044-1.25038-2.49506-3.64309-3.92774-5.40289-3.13896ZM4.1848 24.7821c-.06174 1.5131 1.04971 3.1873 2.37727 3.8151 2.7632 1.32 6.03583-1.4166 9.10773-1.4166 3.0719 0 6.3754 2.8492 9.0923 1.4166 1.5437-.7888 2.6088-2.8815 2.4081-4.62-.2778-2.3985-3.041-3.6863-4.6773-5.4409-2.1766-2.2698-3.7203-6.5356-6.8231-6.5356-3.0874 0-4.7237 4.2014-6.80763 6.5356-1.71349 1.9639-4.56931 3.6219-4.67737 6.2458Z"
            fill="#fff"
          />
        </svg>
        <p>Petson</p>
      </div>
      <div class="nav-options">
        <p>PRODUCTS</p>
        <p>PROMOTIONS</p>
        <p>BLOG</p>
      </div>
      <div>
        <v-btn class="ma-2 mr-2" color="white" outlined>
          <v-icon dark left> {{ icons.mdiCart }} </v-icon>
          Cart (0)
        </v-btn>
        <v-btn class="ma-2" color="white" outlined @click="dialog = true">
          LOGIN
        </v-btn>
      </div>
    </div>
    <v-dialog v-model="dialog" width="30%" max-width="25rem">
      <v-card class="pa-4">
        <div class="svg-logo">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="92"
            height="92"
            fill="none"
          >
            <rect width="92" height="92" rx="46" fill="#4EC690" />
            <path
              d="M31.1305 68.5545c0 1.1294-.2612 2.0393-.7834 2.7297-.5223.6904-1.2294 1.0356-2.1214 1.0356-.9105 0-1.6269-.2858-2.1492-.8573v3.5733h-1.2826v-10.274h1.1717l.0624.823c.5222-.6401 1.2479-.9602 2.1769-.9602.9012 0 1.613.3361 2.1352 1.0082.5269.6721.7904 1.6072.7904 2.8051v.1166Zm-1.2826-.144c0-.8368-.1802-1.4975-.5407-1.9821-.3605-.4847-.8551-.727-1.4836-.727-.7765 0-1.3589.3406-1.7471 1.0219v3.5458c.3836.6767.9706 1.0151 1.7609 1.0151.6147 0 1.1023-.2401 1.4628-.7202.3652-.4846.5477-1.2025.5477-2.1535ZM35.8794 72.3198c-1.0168 0-1.8441-.3292-2.4819-.9876-.6378-.663-.9567-1.5477-.9567-2.6542v-.2332c0-.7362.1409-1.3923.4229-1.9684.2865-.5807.684-1.0334 1.1924-1.358.513-.3292 1.0676-.4938 1.6639-.4938.9752 0 1.7331.3178 2.2739.9533.5408.6356.8111 1.5455.8111 2.7297v.5281h-5.0817c.0185.7316.2334 1.3237.6448 1.7764.4159.448.9428.6721 1.5806.6721.453 0 .8366-.0915 1.1509-.2744.3143-.1828.5893-.4252.825-.727l.7834.6036c-.6286.9556-1.5715 1.4334-2.8286 1.4334Zm-.1594-6.6527c-.5177 0-.9521.1875-1.3034.5624-.3513.3703-.5685.8916-.6517 1.5637h3.7576v-.096c-.037-.6447-.2126-1.1431-.5269-1.4952-.3143-.3566-.7395-.5349-1.2756-.5349ZM42.0357 62.9648v1.797h1.4004v.9807h-1.4004v4.6021c0 .2972.0624.5212.1872.6721.1248.1463.3374.2195.6378.2195.1479 0 .3512-.0275.6101-.0823v1.0287c-.3374.0915-.6656.1372-.9845.1372-.5731 0-1.0052-.1714-1.2964-.5144-.2912-.3429-.4368-.8298-.4368-1.4608v-4.6021h-1.3657v-.9807h1.3657v-1.797h1.2826ZM49.3081 70.2143c0-.343-.1317-.6082-.3951-.7956-.2588-.1921-.7141-.3567-1.3658-.4938-.647-.1372-1.1624-.3018-1.546-.4938-.379-.1921-.6609-.4207-.8458-.6859-.1802-.2652-.2703-.5807-.2703-.9465 0-.6081.2588-1.1225.7764-1.5431.5223-.4207 1.1878-.631 1.9967-.631.8504 0 1.539.2172 2.0659.6516.5315.4343.7973.9899.7973 1.6666h-1.2895c0-.3475-.1502-.647-.4506-.8985-.2958-.2515-.6702-.3772-1.1231-.3772-.4669 0-.832.1006-1.0954.3018-.2635.2011-.3952.4641-.3952.7887 0 .3063.1225.5372.3674.6927.245.1555.6864.3041 1.3242.4458.6424.1417 1.1624.3109 1.5599.5075.3974.1966.6909.4344.8804.7133.1941.2743.2912.6104.2912 1.0082 0 .663-.2681 1.1957-.8042 1.598-.5361.3978-1.2317.5967-2.0868.5967-.6008 0-1.1323-.1051-1.5945-.3155-.4622-.2103-.825-.5029-1.0884-.8779-.2588-.3795-.3883-.7887-.3883-1.2276h1.2826c.0231.4252.1941.7636.513 1.015.3236.2469.7488.3704 1.2756.3704.4853 0 .8736-.096 1.1648-.2881.2957-.1966.4436-.4572.4436-.7818ZM51.9218 68.4036c0-.727.1433-1.3808.4298-1.9615.2912-.5807.6933-1.0288 1.2063-1.3443.5177-.3155 1.107-.4732 1.7679-.4732 1.0214 0 1.8464.3498 2.475 1.0493.6332.6996.9497 1.6301.9497 2.7914v.0892c0 .7224-.1409 1.3717-.4228 1.9478-.2774.5716-.6771 1.0174-1.1994 1.3374-.5177.3201-1.1139.4801-1.7887.4801-1.0168 0-1.8418-.3498-2.475-1.0493-.6285-.6996-.9428-1.6255-.9428-2.7777v-.0892Zm1.2895.1509c0 .823.1918 1.4837.5754 1.9821.3882.4984.9059.7476 1.5529.7476.6517 0 1.1694-.2515 1.553-.7544.3836-.5076.5754-1.2163.5754-2.1262 0-.8139-.1964-1.4723-.5893-1.9752-.3882-.5075-.9059-.7613-1.5529-.7613-.6332 0-1.1439.2492-1.5322.7476-.3882.4983-.5823 1.2116-.5823 2.1398ZM61.5722 64.7618l.0416.9327c.5731-.7133 1.3218-1.0699 2.2462-1.0699 1.5853 0 2.3849.8847 2.3987 2.6542v4.9038h-1.2825V67.272c-.0047-.535-.1295-.9305-.3744-1.1865-.2403-.2561-.617-.3841-1.13-.3841-.416 0-.7811.1097-1.0954.3292-.3143.2195-.5593.5075-.7349.8642v5.2878h-1.2826v-7.4208h1.2133ZM68.2207 71.5174c0-.2195.0647-.4024.1941-.5487.134-.1463.3328-.2195.5962-.2195.2635 0 .4622.0732.5962.2195.1387.1463.208.3292.208.5487 0 .2103-.0693.3863-.208.5281-.134.1417-.3327.2126-.5962.2126-.2634 0-.4622-.0709-.5962-.2126-.1294-.1418-.1941-.3178-.1941-.5281ZM54.5386 15.0423c-2.7605-.4003-5.6847 2.6366-6.5269 6.8271-.8421 4.1669.6785 7.8865 3.4389 8.3103 2.7371.4237 5.6847-2.6132 6.5502-6.8036.8656-4.1669-.7018-7.8866-3.4622-8.3338Zm-16.7265 0c-2.7838.4472-4.3278 4.1669-3.509 8.3338.8889 4.1904 3.8131 7.2273 6.5736 6.8036 2.7838-.4238 4.3044-4.1434 3.4389-8.3103-.8422-4.1905-3.7664-7.2274-6.5035-6.8271Zm29.2421 10.8292c-2.6669-1.1535-6.2929.9417-8.1878 4.5907-1.7779 3.7196-1.1697 7.6275 1.4738 8.7811 2.6435 1.1535 6.2461-.9181 8.0942-4.6142 1.8481-3.6961 1.1931-7.6276-1.3802-8.7576Zm-42.1086 0c-2.5733 1.13-3.2283 5.0615-1.3802 8.7576 1.8481 3.6961 5.4507 5.7677 8.0942 4.6142 2.6435-1.1536 3.2517-5.0615 1.4738-8.7811-1.8949-3.649-5.5209-5.7442-8.1878-4.5907Zm3.9068 25.3781c-.0936 2.213 1.5907 4.6613 3.6026 5.5795 4.1874 1.9304 9.1469-2.0717 13.8022-2.0717 4.6554 0 9.6616 4.1669 13.7789 2.0717 2.3393-1.1536 3.9535-4.214 3.6494-6.7566-.4211-3.5077-4.6086-5.391-7.0883-7.9571-3.2985-3.3194-5.6379-9.558-10.34-9.558-4.6787 0-7.1584 6.1444-10.3166 9.558-2.5967 2.8721-6.9245 5.2969-7.0882 9.1342Z"
              fill="#fff"
            />
          </svg>
          <h5 class="text-h6 mt-4">Log In</h5>
        </div>
        <v-form class="mt-3" @submit.prevent="login()">
          <v-text-field
            outlined
            dense
            label="Email address *"
            solo
            type="email"
            v-model="user.email"
          ></v-text-field>
          <v-text-field
            outlined
            dense
            label="Pasword *"
            solo
            type="password"
            v-model="user.password"
          ></v-text-field>

          <!-- <v-card-actions> -->
          <v-spacer></v-spacer>

          <v-btn
            color="primary"
            width="100%"
            depressed
            :loading="loading"
            @click="login"
            >LOG IN</v-btn
          >
        </v-form>

        <div class="mt-6 px-4">
          <v-row align="center" justify="space-between">
            <p class="alt-auth">Forgot password?</p>
            <p class="alt-auth">Don't have an account? Sign Up</p>
          </v-row>
        </div>
        <!-- </v-card-actions> -->
      </v-card>
    </v-dialog>
  </v-app-bar>
</template>
<script>
  import { mapActions } from "vuex";
  import { mdiCart } from "@mdi/js";
  export default {
    data: () => ({
      icons: {
        mdiCart,
      },
      dialog: false,
      loading: false,
      user: {
        email: "",
        password: "",
      },
    }),
    methods: {
      ...mapActions("admin", ["adminLogin"]),
      login() {
        this.loading = true;
        this.adminLogin(this.user)
          .then(() => {
            this.loading = false;
            this.dialog = false;
          })
          .catch(() => {
            this.loading = false;
          });
      },
    },
  };
</script>
<style lang="scss" scoped>
  .navbar-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    max-width: 70rem;
    margin: auto;

    .logo {
      display: flex;
      align-items: center;
    }
    .logo p {
      margin: auto;
      color: white;
      margin-left: 13px;
      font-size: 20px;
    }
    .nav-options {
      display: flex;
      align-items: center;
    }

    .nav-options p {
      color: white;
      margin-right: 1rem;
      margin-bottom: 0;
      font-weight: semibold;
      cursor: pointer;
    }
  }

  .svg-logo {
    margin: auto;
    text-align: center;
    padding-top: 49px;
    /* width: 92px; */
    /* display: inline-block; */
  }
  .alt-auth {
    color: #1976d2;
    font-size: 14px;
    cursor: pointer;
  }
</style>
